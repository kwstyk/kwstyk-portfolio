---
import Layout    from '@/components/organisms/Layout.astro';
import Navbar    from '@/components/molecules/Navbar.astro';
import ProofHero from '@/components/organisms/ProofHero.astro';
import '@/styles/proof.css';

interface Props {
  title:       string;
  difficulty:  'easy' | 'medium' | 'hard' | 'expert';
  repro:       ('docker' | 'terraform' | 'vagrant' | 'manual')[];
  stack:       string[];
  updated:     string;
  tags?:       string[];   /* ← optional に変更 */
  ci_status?:  string;     /* ← optional に変更 */
  class?:      string;
}

const {
  title, difficulty, repro, stack,
  updated, ci_status, class: className
} = Astro.props as Props;
---

<Layout>
  <Navbar slot="header" />

  <main class:list={['max-w-4xl mx-auto py-12', className]}>
    <ProofHero
      title      ={title}
      difficulty ={difficulty}
      repro      ={repro}
      stack      ={stack}
      updated    ={updated}
      ci_status  ={ci_status ?? ''}
    />

    <!-- ここから MDX 本文 -->
    <article class="prose prose-invert max-w-none">
      <slot />
    </article>
  </main>

  <slot name="footer" slot="footer" />
</Layout>
