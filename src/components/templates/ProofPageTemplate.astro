---
// src/components/templates/ProofPageTemplate.astro
import Layout from '@/layouts/Layout.astro';
import ProofHero from '@/components/organisms/ProofHero.astro';
import ProofMetaCard from '@/components/organisms/ProofMetaCard.astro';

interface Props {
  title:       string;
  difficulty?: 'easy' | 'medium' | 'hard' | 'expert';
  repro:       ('docker' | 'terraform' | 'vagrant' | 'manual')[];
  stack:       string[];
  updated:     string;
  ci_status?:  string;
  tags?:       string[];
  class?:      string;
}

const {
  title,
  difficulty,
  repro,
  stack,
  ci_status: ciStatus,
  updated,
  tags = [],
  class: className = '',
} = Astro.props as Props;
---

<Layout siteName="KWSTYK Portfolio" pageTitle={`Proof | ${title}`}>
  <main class="flex-1 px-4 sm:px-6 lg:px-8 xl:px-16 py-8">
  <!-- ヒーローセクション -->
  <section class="container mx-auto px-4 sm:px-6 lg:px-8 pt-12">
    <div class="max-w-2xl mx-auto text-center">
    <ProofHero
      title={title}
      difficulty={difficulty}
      repro={repro}
      stack={stack}
      ci_status={ciStatus}
    />
    </div>
    <!-- 本文＋メタ -->
    <section class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="grid grid-cols-1 lg:grid-cols-[1fr,250px] gap-8">
        <article class="prose prose-invert" lang="ja">
          <slot />
        </article>
        <slot name="footer" />
      </div>
      <aside class="space-y-6">
        <ProofMetaCard updated={updated} tags={tags} />
      </aside>
    </div>
  </main>
</Layout>
