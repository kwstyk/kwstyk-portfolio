---
// TagFilterBar.astro
interface Props {
  tags: string[];
  selectedTag: string;
}
const { tags, selectedTag } = Astro.props as Props;
---

<div class="filter-bar p-4 mb-6 bg-[#112240] rounded max-w-screen-lg mx-auto flex items-center gap-4">
  <label for="tag-select" class="text-white font-medium">タグ絞り込み:</label>
  <select
    id="tag-select"
    class="bg-gray-700 text-white p-2 rounded"
    value={selectedTag} 
    onchange="{
      const v = this.value;
      // 選択したらページは必ず1にリセットして再読込
      location.href = `?tag=${encodeURIComponent(v)}&page=1`;
    }"
  >
    <option value="">全て</option>
    {tags.map(t => (
      <option value={t}>{t}</option>
    ))}
  </select>
</div>
