---
/**
 * AboutCard.astro – 汎用カード
 */

interface SocialLink {
  href:  string;
  label: string;
  icon:  string;
}

interface Props {
  title:     string;
  /** 自己紹介文（行ごとに分割した配列） */
  intro?:    string[];
  /** ミッション一文 */
  mission?:  string;
  /** SNSリンク */
  socials?:  SocialLink[];
}

const {
  title,
  intro,
  mission = "",
  socials = [],
} = Astro.props as Props;
---

<div class="card-base w-full p-8 flex flex-col gap-4">
  <!-- 見出し -->
  <h2 class="text-2xl font-semibold text-[var(--accent)]">{title}</h2>

  <!-- intro があれば表示、なければスロット -->
  {intro ? (
    <div class="prose prose-invert space-y-2">
      {intro.map(line => <p>{line}</p>)}
    </div>
  ) : (
    <slot />
  )}

  <!-- mission は任意 -->
  {mission && (
    <p class="italic text-[var(--accent-light)]">{mission}</p>
  )}

  <!-- SNS は任意 -->
  {socials.length > 0 && (
    <div class="flex gap-4 mt-auto">
      {socials.map(s => (
        <a
          href={s.href}
          target="_blank"
          rel="noopener"
          aria-label={s.label}
          class="hover:opacity-80"
        >
          <img src={s.icon} alt={s.label} class="w-6 h-6" />
        </a>
      ))}
    </div>
  )}
</div>
