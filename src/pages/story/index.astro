---
import Layout from '@/layouts/Layout.astro';
import StoryCard from '@/components/molecules/StoryCard.astro';
import storiesJson from '@/data/stories.json'; // JSON 配置場所に合わせてパス調整
import Hero from '@/components/organisms/Hero.astro';

// JSON の中身は Story 型の配列であると明示する
interface Story {
  id: string;
  source: string;
  title: string;
  summary: string;
  url: string;
  tags: string[];
  published: string;
  hidden?: boolean
}
const stories = (storiesJson as unknown) as Story[];
// hidden フラグが true のものだけ除外
const visibleStories = stories.filter(s => s.hidden !== true)
---
<Layout class="page-background">
  <Hero title="Lab Notes" subtitle="～Proof から得た知見～" />
  <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
    {visibleStories.map((s) => (
      <StoryCard
        title={s.title}
        summary={s.summary}
        url={s.url}
        source={s.source}
        published={s.published}
        tags={s.tags}  
      />
    ))}
  </section>
</Layout>
